<mxfile host="app.diagrams.net" modified="2021-08-03T04:16:42.202Z" agent="5.0 (Macintosh; Intel Mac OS X 10_15_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.107 Safari/537.36 Edg/92.0.902.62" etag="EWOtHp_ZQVECN-cruUQO" version="14.8.6" type="github" pages="4">
  <diagram id="6dGlSP9AypZYp_pEiEp7" name="main">
    <mxGraphModel dx="1426" dy="771" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="27POvmbXFdz8_VwgoXox-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="Fzy5GeJwQQCdyaJ2enVI-2" target="Fzy5GeJwQQCdyaJ2enVI-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <UserObject label="stop-service-sk" link="data:page/id,EZ-yJVy-s2bzyPia2vCW" id="Fzy5GeJwQQCdyaJ2enVI-2">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
            <mxGeometry x="354" y="70" width="120" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="27POvmbXFdz8_VwgoXox-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="Fzy5GeJwQQCdyaJ2enVI-3" target="Fzy5GeJwQQCdyaJ2enVI-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="27POvmbXFdz8_VwgoXox-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="Fzy5GeJwQQCdyaJ2enVI-3" target="Fzy5GeJwQQCdyaJ2enVI-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <UserObject label="release_sk_sk_cloud" link="data:page/id,JWTyyYmIpVCMN1m0Oudq" id="Fzy5GeJwQQCdyaJ2enVI-3">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
            <mxGeometry x="354" y="190" width="120" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="27POvmbXFdz8_VwgoXox-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="Fzy5GeJwQQCdyaJ2enVI-4" target="Fzy5GeJwQQCdyaJ2enVI-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <UserObject label="RELEASE_sk" link="data:page/id,q3yEjAj2njIeMwjzaU3D" id="Fzy5GeJwQQCdyaJ2enVI-4">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
            <mxGeometry x="234" y="310" width="120" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="Fzy5GeJwQQCdyaJ2enVI-5" value="start-service-sk" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="354" y="430" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="27POvmbXFdz8_VwgoXox-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="Fzy5GeJwQQCdyaJ2enVI-6" target="Fzy5GeJwQQCdyaJ2enVI-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Fzy5GeJwQQCdyaJ2enVI-6" value="gitlab-cicd" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="474" y="310" width="120" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="EZ-yJVy-s2bzyPia2vCW" name="start-service-sk">
    <mxGraphModel dx="1426" dy="771" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="7Fa5BVDuI3mbv9IQ5VK1-0" />
        <mxCell id="7Fa5BVDuI3mbv9IQ5VK1-1" parent="7Fa5BVDuI3mbv9IQ5VK1-0" />
        <mxCell id="l41_1opQb7HLKIFZmyiq-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="7Fa5BVDuI3mbv9IQ5VK1-1" source="l41_1opQb7HLKIFZmyiq-0" target="l41_1opQb7HLKIFZmyiq-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="l41_1opQb7HLKIFZmyiq-0" value="關閉備用外網ip流入" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="7Fa5BVDuI3mbv9IQ5VK1-1">
          <mxGeometry x="200" y="80" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="l41_1opQb7HLKIFZmyiq-2" value="&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; line-height: normal ; font-family: &amp;#34;pingfang tc&amp;#34;&quot;&gt;只允許&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;pineapple&lt;/span&gt;站&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;OTP&lt;/span&gt;以及正式站客服系統外網&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;ip&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; line-height: normal ; font-family: &amp;#34;pingfang tc&amp;#34;&quot;&gt;&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;備用外網ip(103.252.156.13)&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; line-height: normal ; font-family: &amp;#34;pingfang tc&amp;#34;&quot;&gt;&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;流向：172.26.54.46,172.26.54.47-&amp;gt;172.26.157.123-&amp;gt;103.252.156.13&lt;/span&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="7Fa5BVDuI3mbv9IQ5VK1-1">
          <mxGeometry x="360" y="55" width="400" height="110" as="geometry" />
        </mxCell>
        <mxCell id="l41_1opQb7HLKIFZmyiq-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="7Fa5BVDuI3mbv9IQ5VK1-1" source="l41_1opQb7HLKIFZmyiq-3" target="l41_1opQb7HLKIFZmyiq-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="l41_1opQb7HLKIFZmyiq-3" value="stop sk service" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="7Fa5BVDuI3mbv9IQ5VK1-1">
          <mxGeometry x="200" y="220" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="l41_1opQb7HLKIFZmyiq-4" value="&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;pingfang tc&amp;#34;&quot;&gt;透過&lt;/span&gt;kubectl apply haprox-stop-config&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;pingfang tc&amp;#34;&quot;&gt;添加&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;whitelist-source-range: &quot;127.0.0.1&quot;&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;pingfang tc&amp;#34;&quot;&gt;，只允許本機的連線&lt;/span&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="7Fa5BVDuI3mbv9IQ5VK1-1">
          <mxGeometry x="365" y="210" width="390" height="80" as="geometry" />
        </mxCell>
        <mxCell id="l41_1opQb7HLKIFZmyiq-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="7Fa5BVDuI3mbv9IQ5VK1-1" source="l41_1opQb7HLKIFZmyiq-5" target="l41_1opQb7HLKIFZmyiq-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="l41_1opQb7HLKIFZmyiq-5" value="停durian-bg 背景" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="7Fa5BVDuI3mbv9IQ5VK1-1">
          <mxGeometry x="200" y="360" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="l41_1opQb7HLKIFZmyiq-6" value="&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;ssh&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;pingfang tc&amp;#34;&quot;&gt;進去&lt;/span&gt;durian&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;pingfang tc&amp;#34;&quot;&gt;背景機並跑&lt;/span&gt;bg_stop&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;bg_stop&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;pingfang tc&amp;#34;&quot;&gt;：先確認&lt;/span&gt;user&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;pingfang tc&amp;#34;&quot;&gt;是否為&lt;/span&gt;durian&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;pingfang tc&amp;#34;&quot;&gt;，&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;pingfang tc&amp;#34;&quot;&gt;接著將&lt;/span&gt;_run_bg&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;pingfang tc&amp;#34;&quot;&gt;以及&lt;/span&gt;_run_immediate_message&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;pingfang tc&amp;#34;&quot;&gt;這兩個進程&lt;/span&gt;kill&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;pingfang tc&amp;#34;&quot;&gt;掉&lt;/span&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="7Fa5BVDuI3mbv9IQ5VK1-1">
          <mxGeometry x="365" y="350" width="390" height="80" as="geometry" />
        </mxCell>
        <mxCell id="l41_1opQb7HLKIFZmyiq-7" value="crontab 停止" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="7Fa5BVDuI3mbv9IQ5VK1-1">
          <mxGeometry x="200" y="500" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="l41_1opQb7HLKIFZmyiq-8" value="&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;備份crontab並且清除crontab。&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;crontab -l &amp;gt; crontab-$date：顯示目前crontab 並且輸出成檔案並加上時間戳備份起來&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;crontab -r&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;pingfang tc&amp;#34;&quot;&gt;：清除&lt;/span&gt;crontab&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="7Fa5BVDuI3mbv9IQ5VK1-1">
          <mxGeometry x="365" y="490" width="390" height="80" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="JWTyyYmIpVCMN1m0Oudq" name="release_sk_sk_cloud">
    <mxGraphModel dx="1426" dy="771" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="NqsLETtFn68mSmPujmHx-0" />
        <mxCell id="NqsLETtFn68mSmPujmHx-1" parent="NqsLETtFn68mSmPujmHx-0" />
        <mxCell id="x_HE3sd3-_n7QP_UE8BS-0" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="NqsLETtFn68mSmPujmHx-1" source="x_HE3sd3-_n7QP_UE8BS-1" target="x_HE3sd3-_n7QP_UE8BS-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="x_HE3sd3-_n7QP_UE8BS-1" value="變更遠端倉庫地址" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="NqsLETtFn68mSmPujmHx-1">
          <mxGeometry x="200" y="80" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="x_HE3sd3-_n7QP_UE8BS-2" value="&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; line-height: normal ; font-family: &amp;#34;pingfang tc&amp;#34;&quot;&gt;進到/var/lib/jenkins/RELEASE_sk_sk_cloud/workspace&lt;/p&gt;&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; line-height: normal ; font-family: &amp;#34;pingfang tc&amp;#34;&quot;&gt;透過git remote set-url變更遠端倉庫地址&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="NqsLETtFn68mSmPujmHx-1">
          <mxGeometry x="360" y="55" width="400" height="110" as="geometry" />
        </mxCell>
        <mxCell id="x_HE3sd3-_n7QP_UE8BS-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="NqsLETtFn68mSmPujmHx-1" source="x_HE3sd3-_n7QP_UE8BS-4" target="x_HE3sd3-_n7QP_UE8BS-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="x_HE3sd3-_n7QP_UE8BS-4" value="&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;pingfang tc&amp;#34;&quot;&gt;將&lt;/span&gt;release_sk&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;pingfang tc&amp;#34;&quot;&gt;分支刪掉並重新創建&lt;/span&gt;&lt;/p&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="NqsLETtFn68mSmPujmHx-1">
          <mxGeometry x="200" y="220" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="x_HE3sd3-_n7QP_UE8BS-5" value="&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; line-height: normal&quot;&gt;&lt;font face=&quot;pingfang tc&quot;&gt;待補充&lt;/font&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="NqsLETtFn68mSmPujmHx-1">
          <mxGeometry x="365" y="210" width="390" height="80" as="geometry" />
        </mxCell>
        <mxCell id="x_HE3sd3-_n7QP_UE8BS-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="NqsLETtFn68mSmPujmHx-1" source="x_HE3sd3-_n7QP_UE8BS-7" target="x_HE3sd3-_n7QP_UE8BS-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="x_HE3sd3-_n7QP_UE8BS-7" value="&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;export&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;pingfang tc&amp;#34;&quot;&gt;對外&lt;/span&gt;ip&lt;i&gt; 10.249.52.1&lt;/i&gt;&lt;/p&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="NqsLETtFn68mSmPujmHx-1">
          <mxGeometry x="200" y="360" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="x_HE3sd3-_n7QP_UE8BS-8" value="&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;pingfang tc&amp;#34;&quot;&gt;[跳板機&lt;/span&gt;&lt;i&gt; ipl-border.rd5.prod&lt;/i&gt;&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;pingfang tc&amp;#34;&quot;&gt;]&lt;/span&gt;&lt;i&gt; 10.249.52.1 (otp)&lt;/i&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="NqsLETtFn68mSmPujmHx-1">
          <mxGeometry x="365" y="350" width="390" height="80" as="geometry" />
        </mxCell>
        <mxCell id="x_HE3sd3-_n7QP_UE8BS-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="NqsLETtFn68mSmPujmHx-1" source="x_HE3sd3-_n7QP_UE8BS-9" target="x_HE3sd3-_n7QP_UE8BS-11">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="x_HE3sd3-_n7QP_UE8BS-9" value="&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;pingfang tc&amp;#34;&quot;&gt;將地端&lt;/span&gt;gitlab&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;pingfang tc&amp;#34;&quot;&gt;程式推上雲端&lt;/span&gt;gitlab&lt;/p&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="NqsLETtFn68mSmPujmHx-1">
          <mxGeometry x="200" y="500" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="x_HE3sd3-_n7QP_UE8BS-11" value="&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;pingfang tc&amp;#34;&quot;&gt;透過&lt;/span&gt;&lt;i&gt;gitlab&lt;/i&gt;&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;pingfang tc&amp;#34;&quot;&gt;的&lt;/span&gt;&lt;i&gt;api&lt;/i&gt;&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;pingfang tc&amp;#34;&quot;&gt;取得&lt;/span&gt;&lt;i&gt;pipeline&lt;/i&gt;&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;pingfang tc&amp;#34;&quot;&gt;的&lt;/span&gt;&lt;i&gt;cicd status &lt;/i&gt;&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;pingfang tc&amp;#34;&quot;&gt;判斷是否&lt;/span&gt;&lt;i&gt;status = success&lt;/i&gt;&lt;/p&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="NqsLETtFn68mSmPujmHx-1">
          <mxGeometry x="192.5" y="640" width="135" height="80" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="q3yEjAj2njIeMwjzaU3D" name="RELEASE_sk">
    <mxGraphModel dx="1188" dy="643" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="DliIWoVDqq9hmBoGjNYp-0" />
        <mxCell id="DliIWoVDqq9hmBoGjNYp-1" parent="DliIWoVDqq9hmBoGjNYp-0" />
        <mxCell id="0j0corsX04SEicpSa_xj-0" value="&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; line-height: normal ; font-family: &amp;#34;pingfang tc&amp;#34;&quot;&gt;先拉程式到跳板機&lt;span class=&quot;s1&quot; style=&quot;font-stretch: normal ; line-height: normal ; font-family: &amp;#34;helvetica neue&amp;#34;&quot;&gt;(jenkins)&lt;/span&gt;，接著送程式到小球正式站背景機&lt;/p&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="DliIWoVDqq9hmBoGjNYp-1">
          <mxGeometry x="314" y="30" width="200" height="70" as="geometry" />
        </mxCell>
        <mxCell id="0j0corsX04SEicpSa_xj-1" value="大綱" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="DliIWoVDqq9hmBoGjNYp-1">
          <mxGeometry x="180" y="32.5" width="100" height="65" as="geometry" />
        </mxCell>
        <mxCell id="0j0corsX04SEicpSa_xj-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="DliIWoVDqq9hmBoGjNYp-1" source="0j0corsX04SEicpSa_xj-3" target="0j0corsX04SEicpSa_xj-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0j0corsX04SEicpSa_xj-3" value="透過cat shyaml篩選出小球背景的ip並放到skIp" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="DliIWoVDqq9hmBoGjNYp-1">
          <mxGeometry x="328.5" y="300" width="170" height="100" as="geometry" />
        </mxCell>
        <mxCell id="0j0corsX04SEicpSa_xj-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="DliIWoVDqq9hmBoGjNYp-1" source="0j0corsX04SEicpSa_xj-4" target="0j0corsX04SEicpSa_xj-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0j0corsX04SEicpSa_xj-4" value="從jenkins家目錄讀取fab/ipyml並放到ipListFile" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="DliIWoVDqq9hmBoGjNYp-1">
          <mxGeometry x="353.5" y="190" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0j0corsX04SEicpSa_xj-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="DliIWoVDqq9hmBoGjNYp-1" source="0j0corsX04SEicpSa_xj-5" target="0j0corsX04SEicpSa_xj-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0j0corsX04SEicpSa_xj-5" value="設定branch=&#39;release_sk&#39;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="DliIWoVDqq9hmBoGjNYp-1">
          <mxGeometry x="333.5" y="440" width="160" height="90" as="geometry" />
        </mxCell>
        <mxCell id="0j0corsX04SEicpSa_xj-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="DliIWoVDqq9hmBoGjNYp-1" source="0j0corsX04SEicpSa_xj-6" target="0j0corsX04SEicpSa_xj-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0j0corsX04SEicpSa_xj-6" value="透過fab pull:target=sk_staging,branch=&#39;release_sk&#39;&lt;br&gt;拉程式到跳板機(jenkins)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="DliIWoVDqq9hmBoGjNYp-1">
          <mxGeometry x="296" y="570" width="235" height="110" as="geometry" />
        </mxCell>
        <mxCell id="0j0corsX04SEicpSa_xj-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="DliIWoVDqq9hmBoGjNYp-1" source="0j0corsX04SEicpSa_xj-7" target="0j0corsX04SEicpSa_xj-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0j0corsX04SEicpSa_xj-7" value="透過fab -H 127.0.0.1 switch:target=sk_staging&lt;br&gt;更新跳板機(jenkins)的軟連結" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="DliIWoVDqq9hmBoGjNYp-1">
          <mxGeometry x="296" y="720" width="235" height="110" as="geometry" />
        </mxCell>
        <mxCell id="0j0corsX04SEicpSa_xj-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="DliIWoVDqq9hmBoGjNYp-1" source="0j0corsX04SEicpSa_xj-8" target="0j0corsX04SEicpSa_xj-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0j0corsX04SEicpSa_xj-8" value="透過fab -H sk_background rsync:target=sk_prod&lt;br&gt;從跳板機(jenkins)送程式到小球背景機" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="DliIWoVDqq9hmBoGjNYp-1">
          <mxGeometry x="296" y="880" width="235" height="110" as="geometry" />
        </mxCell>
        <mxCell id="0j0corsX04SEicpSa_xj-20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="DliIWoVDqq9hmBoGjNYp-1" source="0j0corsX04SEicpSa_xj-9" target="0j0corsX04SEicpSa_xj-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0j0corsX04SEicpSa_xj-9" value="透過fab -H sk_background switch:target=sk_prod&lt;br&gt;更新小球背景機的軟連結" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="DliIWoVDqq9hmBoGjNYp-1">
          <mxGeometry x="296" y="1030" width="235" height="110" as="geometry" />
        </mxCell>
        <mxCell id="0j0corsX04SEicpSa_xj-10" value="在小球背景幾執行migration" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="DliIWoVDqq9hmBoGjNYp-1">
          <mxGeometry x="329" y="1190" width="170" height="100" as="geometry" />
        </mxCell>
        <mxCell id="0j0corsX04SEicpSa_xj-11" value="細部流程" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="DliIWoVDqq9hmBoGjNYp-1">
          <mxGeometry x="160" y="185" width="100" height="65" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
